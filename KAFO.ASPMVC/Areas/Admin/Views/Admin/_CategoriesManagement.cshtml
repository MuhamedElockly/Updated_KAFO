@model CategoriesTableVM

<div class="card mb-4" id="categories-management">
	<div class="card-header bg-white">
		<div class="d-flex justify-content-between align-items-center">
			<h4 class="mb-0">إدارة الفئات</h4>
			<a class="btn btn-primary" asp-action="Index" asp-controller="CategoryManagement"  >
				<i class="fas fa-plus"></i> إضافة فئة جديدة
			</a>
		</div>
	</div>
	<div class="card-body">
		<div class="table-responsive">
			<table class="table table-hover">
				<thead>
					<tr>
						<th>#</th>
						<th>اسم الفئة</th>
						<th>الوصف</th>
						<th>الإجراءات</th>
					</tr>
				</thead>
				<tbody>
					@foreach (var category in Model.Categories)
					{
						<tr>
							<td>@category.Id</td>
							<td>@category.Name</td>
							<td>@category.Description</td>
							<td>
								<a class="btn btn-sm btn-info" asp-action="Edit" asp-controller="CategoryManagement" asp-route-id="@category.Id">
									<i class="fas fa-edit"></i>
								</a>
								<button class="btn btn-sm btn-danger" onclick="deleteCategory(@category.Id)">
									<i class="fas fa-trash"></i>
								</button>
							</td>
						</tr>
					}
				</tbody>
			</table>
		</div>
		<nav>
			<ul class="pagination justify-content-end">
				<li class="page-item @(Model.CurrentCategoryPage == 1 ? "disabled" : "")">
					<a class="page-link" onclick="loadAdminContent('Categories', @Model.CurrentCategoryPage-1)" tabindex="-1">السابق</a>
				</li>
				@for (int i = 1; i <= Model.TotalCategoriesPages; i++)
				{
					<li class="page-item @(i == Model.CurrentCategoryPage ? "active" : "")">
						<a class="page-link" onclick="loadAdminContent('Categories', @i)">@i</a>
					</li>
				}
				<li class="page-item @(Model.CurrentCategoryPage == Model.TotalCategoriesPages ? "disabled" : "")">
					<a class="page-link" onclick="loadAdminContent('Categories', @Model.CurrentCategoryPage+1)">التالي</a>
				</li>
			</ul>
		</nav>
	</div>
</div>
